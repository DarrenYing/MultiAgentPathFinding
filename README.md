# MultiAgentPathFinding
 多AGV路径规划演示模型（CBS算法）

### V1.0	

算法基本实现，逻辑已基本无bug

输入 ：

* agent：start，end
* obstacles
* map：rows，cols

输出：

* 如果没冲突，给出每个agent的路径数组

#### 待实现

UI界面，参数调整接口，单步模式和直接运行模式。



### V1.1

UI界面初步完成，目前提供参数如下：

* 地图行数、列数、障碍物比例
* 障碍物、每辆小车的起点和终点都可以自由设定
* 运行功能（直接执行模式）和重置功能



### V1.15

UI界面进一步完善，加入如下功能：

* 可以添加小车
* 添加单步执行模式
* 显示当前运行状态

#### 待实现

删除小车功能，设定小车颜色（可选），加入预设的特殊布局地图、计时功能。



### V1.2

删除小车功能完成

#### 问题记录

![image-20201119153155889](C:\Users\AA\AppData\Roaming\Typora\typora-user-images\image-20201119153155889.png)

如图所示情况，绿色小车到达终点后，在实际情况中会离开，继续执行下一个任务，但在路径中，绿车停靠在终点，会和红车路径不断产生冲突，导致死循环，这是不合理的。

#### 解决方案

* 每个小车有一个任务列表，执行完一个就去做下一个。
* 在补全小车路径到maxT时，补为特殊点，即不会再和其它小车冲突的点。



### V1.25

删除小车bug修复，计时功能初步完成，修改小车速度功能完成

#### 关于计时功能

对于单轮任务，需要对每个Agent的执行时间单独计时

最好拓展到多轮任务，对任务直接计时

#### 待实现

* 打算先完善前端UI，优化排版，加一些对用户友好的提示功能。
* 添加小车时自定义颜色，给一个colorpicker。



### V1.28

UI第一次更新完成

#### 优化思路

不必通过draw一直重画整个界面，setup时调用noloop，然后之后封装一个drawWholeThing，当需要更新界面时，再调用即可，减小开销。

#### 其他

把全局变量封装到一个config.js里，优化代码结构，能用lodash里的函数代替的尽量代替

#### 待实现

等V1.2的bug修复后，就开始改进算法，并做对比试验

从yaml文件读取地图（待定）



#### V1.30-

![image-20201122164738188](C:\Users\AA\AppData\Roaming\Typora\typora-user-images\image-20201122164738188.png)



### V1.30

UI界面的逻辑bug基本修复，UI样式初步调整完毕，全局变量存到configs.js中。

#### 待实现

下一步开始设计并进行算法测试，并记录测试结果。